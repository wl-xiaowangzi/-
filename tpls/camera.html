<div class="modal fade" id="modalcamera" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content pull-left" style='width:696px;height:633px;background:#1c232d;padding-left:12px;'>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">拍照入库</h4>
            </div>
            <div class="modal-body">
                <form class="form form-horizontal">
                    <video id="video" autoplay="" style='width:640px;height:480px;'></video>
                    <div class="picture"></div>
                    
                    <canvas id="canvas" width="640" height="480" style="position:absolute;top:15px;background:url(imgs/cover.png) no-repeat center center">
                        <script>
                            var video = document.getElementById("video");

                            var canvas = document.getElementById("canvas");
                            var context = canvas.getContext("2d")
                            if (navigator.mediaDevices.getUserMedia) { // 标准的API
                                var p = navigator.mediaDevices.getUserMedia({
                                    video: true
                                });
                                p.then(function (mediaStream) {
                                    var video = document.querySelector('video');
                                    video.src = window.URL.createObjectURL(mediaStream);
                                    video.onloadedmetadata = function (e) {
                                        // Do something with the video here.
                                        video.play();
                                    };
                                });
                                p.catch(function (err) {
                                    console.log(err.name);
                                });
                            } else if (navigator.mediaDevices.webkitGetUserMedia) { // WebKit 核心的API
                                var p = navigator.mediaDevices.webkitGetUserMedia({
                                    video: true
                                });
                                p.then(function (mediaStream) {
                                    var video = document.querySelector('video');
                                    video.src = window.URL.createObjectURL(mediaStream);
                                    video.onloadedmetadata = function (e) {
                                        // Do something with the video here.
                                        video.play();
                                    };
                                });
                                p.catch(function (err) {
                                    console.log(err.name);
                                });
                            }
                            
                        </script>
                    </canvas>
                    <!--<div class="form-group">
                        <div class="col-sm-6 col-sm-offset-4">
                            <button type="submit" class="btn btn-blue displayN" data-dismiss="modal" aria-label="Close" id="sure-photography">确认</button>
                            <div id="re-photographed" class="btn btn-default displayN"><span class="glyphicon glyphicon-repeat"></span> 重拍</div>
                        </div>
                    </div>-->
                </form>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>